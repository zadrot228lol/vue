(function(t){function e(e){for(var r,i,o=e[0],u=e[1],c=e[2],f=0,d=[];f<o.length;f++)i=o[f],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&d.push(s[i][0]),s[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);l&&l(e);while(d.length)d.shift()();return a.push.apply(a,c||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,o=1;o<n.length;o++){var u=n[o];0!==s[u]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},s={app:0},a=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var l=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"05a2":function(t,e,n){},2143:function(t,e,n){"use strict";n("05a2")},"3b9d":function(t,e,n){"use strict";n("4578")},4093:function(t,e,n){},4578:function(t,e,n){},"496b":function(t,e,n){"use strict";n("4093")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[t.init?n("div",[n("Header"),n("router-view")],1):n("div",[t._v(" loading... ")])])},a=[],i=(n("96cf"),n("1da1")),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"container"},[n("div",{staticClass:"navbar"},[n("div",[n("router-link",{attrs:{to:"/"}},[t._v("Главная")]),n("router-link",{attrs:{to:"/news"}},[t._v("Новости")]),n("router-link",{attrs:{to:"/donate"}},[t._v("Донат")]),n("router-link",{attrs:{to:"/help"}},[t._v("Помощь")]),n("a",{attrs:{target:"_blank",href:"https://forum.grand-rp.su"}},[t._v("Форум")])],1),n("button",{staticClass:"btn btn-danger",attrs:{type:"button"}},[t._v("Личный кабинет")])])])},u=[],c={name:"Header"},l=c,f=(n("2143"),n("2877")),d=Object(f["a"])(l,o,u,!1,null,"37f4c59a",null),p=d.exports,h=n("2f62"),b={name:"App",components:{Header:p},data:function(){return{init:!1}},methods:Object(h["b"])(["loadNews"]),mounted:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.init){e.next=4;break}return e.next=3,t.loadNews();case 3:t.init=!0;case 4:case"end":return e.stop()}}),e)})))()}},m=b,v=(n("3b9d"),Object(f["a"])(m,s,a,!1,null,"48952ef8",null)),w=v.exports,g=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},_=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",[n("div",{staticClass:"container"},[t._v("main")])])}],y={name:"Main"},N=y,O=Object(f["a"])(N,g,_,!1,null,"2cb903bc",null),j=O.exports,k=n("8c4f"),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{attrs:{id:"news"}},[n("div",{staticClass:"container"},[n("h1",{staticClass:"text-center"},[t._v("Новости")]),n("div",{staticClass:"news"},t._l(t.getNewsPage(this.pageNumber),(function(e){return n("div",{key:e.id},[n("router-link",{attrs:{to:"/news/"+e.id}},[n("h2",[t._v(t._s(e.title))])]),n("p",[t._v(t._s(e.content))]),n("button",{staticClass:"btn btn-danger",on:{click:function(n){return t.deleteNews(e.id)}}},[t._v("Удалить")])],1)})),0),n("div",{staticClass:"buttons"},t._l(t.getNewsPage(),(function(e,r){return n("router-link",{key:"button-to__"+r,attrs:{to:"/news?id="+r}},[n("button",[t._v(" "+t._s(r)+" ")])])})),1)])])},$=[],C=(n("fb6a"),n("a434"),n("5530")),P={name:"News",computed:Object(h["c"])(["getNews"]),data:function(){return{pageNumber:0,pages:[],init:!1}},methods:Object(C["a"])(Object(C["a"])({},Object(h["b"])(["deleteNews"])),{},{update:function(){this.$route.query.id?this.pageNumber=this.$route.query.id:this.pageNumber="0"},getNewsPage:function(t){var e=[],n=4,r=this.getNews.slice();while(r.length>0)e.push(r.splice(0,n));return t?e[t]:e}}),watch:{$route:"update"},mounted:function(){this.$route.query.id?this.pageNumber=this.$route.query.id:this.pageNumber="0",this.init=!0}},E=P,R=(n("496b"),Object(f["a"])(E,x,$,!1,null,"a8110fc8",null)),S=R.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("h1",{staticClass:"text-center"},[t._v(t._s(t.myNews.title))]),n("p",[t._v(t._s(t.myNews.text))]),n("button",{staticClass:"btn btn-danger",on:{click:t.back}},[t._v("Назад")])])},q=[],T=(n("4de4"),{name:"OneNews",computed:Object(C["a"])({myNews:function(){var t=this.getNews,e=this.$route.params.id;return t.filter((function(t){return t.id===e}))[0]}},Object(h["c"])(["getNews"])),methods:{back:function(){this.$router.history.push("/news")}},data:function(){return{news:[],init:!1}},mounted:function(){this.myNews||this.$router.history.push("/news")}}),H=T,J=(n("62f2"),Object(f["a"])(H,M,q,!1,null,"e092c594",null)),A=J.exports;r["a"].use(k["a"]);var D=new k["a"]({mode:"history",routes:[{path:"/",component:j},{path:"/news",component:S},{path:"/news/:id",component:A}]}),L=(n("d3b7"),{actions:{loadNews:function(t){return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://vue-backend123.herokuapp.com/getNews");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,t.commit("setNews",r.data);case 7:case"end":return e.stop()}}),e)})))()},deleteNews:function(t,e){return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://vue-backend123.herokuapp.com/deleteNews?id=".concat(e),{method:"DELETE"});case 2:return r=n.sent,n.next=5,r.json();case 5:s=n.sent,t.commit("setNews",s.data);case 7:case"end":return n.stop()}}),n)})))()}},getters:{getNews:function(t){return t.news}},state:{news:[]},mutations:{setNews:function(t,e){t.news=e}}});r["a"].use(h["a"]);var z=new h["a"].Store({modules:{news:L}});r["a"].config.productionTip=!1,r["a"].config.devtools=!0,new r["a"]({render:function(t){return t(w)},router:D,store:z}).$mount("#app")},"62f2":function(t,e,n){"use strict";n("e2df")},e2df:function(t,e,n){}});
//# sourceMappingURL=app.df87ecc4.js.map